---
title: js 宝典
lang: js
abbrlink: 28f5673f
date: 2022-06-15 17:54:00
tags:
  - jsFc
---


#### 乱序
```bash
function shuffle(a) {
    for (let i = a.length; i; i--) {
        let j = Math.floor(Math.random() * i);
        [a[i - 1], a[j]] = [a[j], a[i - 1]];
    }
    return a;
}

var times = 100000;
var res = {};

for (var i = 0; i < times; i++) {
    var arr = shuffle([1, 2, 3]);
    var key = JSON.stringify(arr);
    console.log(arr,key)
    res[key] ? res[key]++ :  res[key] = 1;
}

// 为了方便展示，转换成百分比
for (var key in res) {
    res[key] = res[key] / times * 100 + '%'
}

console.log(res)

```

##### 数组扁平化 + 升序
```bash
var arr = [ [1, 2, 2], [3, 4, 5, 5], [6, 7, 8, 9, [11, 12, [12, 13, [14] ] ] ], 10];

Array.from(new Set(arr.flat(Infinity))).sort((a,b)=>{ return a-b})
```


##### bind call apply
 相同点： 都是修改this的指向
 不同点： call , apply 立即执行， bind绑定返回新韩淑，需调用执行。
         fn.call([this],param...)
         fn.apply([this],[param...])
         fn.bind([this],param...)


```
    var obj = {
        name: '美美',
        age: 18,
        say: function(){
            console.log(`my name is ${this.name}, I am ${this.age}`)
        }
    }

    var xixi = {
        name: 'xixi', 
        age: 12
    }

    obj.say()
    obj.say.call(xixi) 
    obj.say.apply(xixi)
    obj.say.bind(xixi)()

```

    参数传递
```
    var obj = {
        name: '美美',
        age: 18,
        say: function(from,to){
            console.log(`my name is ${this.name}, I am ${this.age}, from ${from} to ${to}`)
        }
    }

    var xixi = {
        name: 'xixi', 
        age: 12
    }

    obj.say.call(xixi,'beijing','shanghai') 
    obj.say.apply(xixi, ['beijing','shanghai'])
    obj.say.bind(xixi,'beijing','shanghai')()

```




